class e{constructor(e){this.storage=e}set(e,t){this.storage.setItem(e,"string"==typeof t?t:JSON.stringify(t))}get(e){const t=this.storage.getItem(e),n=!!t&&(t.indexOf("}")>t.indexOf("{")||t.indexOf("]")>t.indexOf("["))?JSON.parse(t):t;return t?n:null}remove(e){this.storage.removeItem(e)}clear(){this.storage.clear()}setObject(e,t){this.storage.setItem(e,JSON.stringify(t))}getObject(e){return this.storage.getItem(e)?JSON.parse(this.storage.getItem(e)):{}}}const t="undefined"!=typeof localStorage?new e(localStorage):null;"undefined"!=typeof sessionStorage&&new e(sessionStorage);let n=t;let r=t;const o="data",i=document.querySelector(".subtotal"),s=document.querySelector(".total-items"),a=document.querySelector(".checkout-btn"),c=document.querySelector(".remove-btn");let l=r.get(o);function u(){r.remove(o)}function m(){const e=document.querySelector(".item-list");var t;e.innerHTML="",r.get(o)?.map((t=>{let n=`\n        <li class="item">\n            <img style="width: 5%;"\n                src=${t.img_url}\n                alt=${t.name}>\n            <p>Name: ${t.name}</p>\n            <p>Price: $${t.price}</p>\n            <p>Quantity: ${t.qty}</p>\n            <p>Total price: ${t.qty*t.price} kr</p>\n        </li>\n        `;e.innerHTML+=n})),s.innerText=`Total items: ${t=o,n.get(t)?.reduce(((e,{qty:t})=>e+t),0)} items`,i.innerText=`Subtotal: ${l?.map((e=>e.price*e.qty)).reduce(((e,t)=>e+t),0)} kr`}function d(){if(!r.get(o)){document.querySelector(".buttons").remove(),document.querySelector(".total").remove();let e=document.createElement("p");e.innerText="Your cart is empty!";const t=document.querySelector(".container");e.style.textAlign="center",e.style.padding="3rem",t.append(e)}}c.addEventListener("click",(()=>{u(),d(),m()})),a.addEventListener("click",(()=>{var e;e=r.get(o),e?.map((e=>{axios.patch(`https://online-shopping-94722-default-rtdb.europe-west1.firebasedatabase.app/items/${e.id}.json`,{balance:e.balance-e.qty}).catch((e=>{console.error(e)}))})),u(),d(),m(),setTimeout((()=>{alert("Thanks So Much for Your Order! I Hope You Enjoy Your New Purchase!")}),400),setTimeout((()=>{window.location.assign("../../index.html")}),2e3)})),d(),l?.filter(((e,t)=>l.findIndex((t=>t.id===e.id))===t)),m();
//# sourceMappingURL=index.01c2c76d.js.map
